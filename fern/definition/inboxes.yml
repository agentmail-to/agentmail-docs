service:
  base-path: /inboxes
  auth: true

  endpoints:
    createInbox:
      docs: |
        If `username` is not specified, one will be randomly generated.

        `domain` must be one of your organization's verified domains or `agentmail.to`. If `domain` is not specified, it will default to `agentmail.to`.
      method: POST
      path: /
      request: CreateInboxRequest
      response: Inbox
      examples:
        - request:
            username: inbox
          response:
            body:
              id: inbox@agentmail.to
        - request:
            domain: yourdomain.com
          response:
            body:
              id: helpfulagent123@yourdomain.com

    deleteInbox:
      docs: Deletes inbox and all of its threads and messages.
      method: DELETE
      path: /{id}
      path-parameters:
        id: string
      errors:
        - InboxDoesNotExistError
      examples:
        - path-parameters:
            id: inbox@agentmail.to

types:
  Inbox:
    properties:
      id: string

  CreateInboxRequest:
    properties:
      username: optional<string>
      domain: optional<string>

errors:
  InboxDoesNotExistError:
    status-code: 404
    type: string
