# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  inboxes: inboxes.yml

types:
  AttachmentId:
    type: string
    docs: ID of attachment.

  Attachment:
    properties:
      id: AttachmentId
      filename:
        type: string
        docs: Filename of attachment.
      mime_type:
        type: string
        docs: MIME type of attachment.
      size:
        type: integer
        docs: Size of attachment in bytes.

errors:
  AttachmentDoesNotExistError:
    status-code: 404
    type: string

service:
  base-path: /inboxes/{inbox_id}/attachments
  path-parameters:
    inbox_id: inboxes.InboxId

  auth: true

  endpoints:
    getAttachment:
      method: GET
      path: /{attachment_id}
      path-parameters:
        attachment_id: AttachmentId
      response: file
      errors:
        - AttachmentDoesNotExistError
