# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  global: ../__package__.yml
  pods: __package__.yml
  inboxes: ../inboxes/__package__.yml

service:
  url: Http
  base-path: /pods/{pod_id}/inboxes
  path-parameters:
    pod_id: pods.PodId
  auth: true

  endpoints:
    list:
      method: GET
      path: ""
      display-name: List Inboxes
      docs: Retrieves all inboxes within a specific pod for multi-tenant email isolation.
      request:
        name: ListInboxesRequest
        query-parameters:
          limit: optional<global.Limit>
          page_token: optional<global.PageToken>
          labels: optional<global.Labels>
          before: optional<global.Before>
          after: optional<global.After>
          ascending: optional<global.Ascending>
      response: inboxes.ListInboxesResponse
      errors:
        - global.NotFoundError

    get:
      method: GET
      path: /{inbox_id}
      display-name: Get Inbox
      docs: Retrieves detailed information about a specific inbox within a pod.
      path-parameters:
        inbox_id: inboxes.InboxId
      response: inboxes.Inbox
      errors:
        - global.NotFoundError

    create:
      method: POST
      path: ""
      display-name: Create Inbox
      docs: Creates a new email inbox within a specific pod for tenant-isolated communication.
      request: inboxes.CreateInboxRequest
      response: inboxes.Inbox
      errors:
        - global.ValidationError

    delete:
      method: DELETE
      path: /{inbox_id}
      display-name: Delete Inbox
      docs: Permanently deletes an inbox from a specific pod along with all its messages.
      path-parameters:
        inbox_id: inboxes.InboxId
      errors:
        - global.NotFoundError
