# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  events: events.yml

types:
  Subscribe:
    properties:
      type: literal<"subscribe">
      event_types: optional<events.EventTypes>
      inbox_ids: optional<events.InboxIds>
      pod_ids: optional<events.PodIds>

  Subscribed:
    properties:
      type: literal<"subscribed">
      event_types: optional<events.EventTypes>
      inbox_ids: optional<events.InboxIds>
      pod_ids: optional<events.PodIds>

channel:
  url: Websockets
  path: /v0
  display-name: Connect
  docs: Establishes a WebSocket connection for real-time bidirectional communication to receive instant email notifications and events.
  auth: true
  query-parameters:
    auth_token:
      type: optional<string>
      docs: Your API key. Required if Authorization header is not set.
  messages:
    subscribe:
      origin: client
      body: Subscribe
    subscribed:
      origin: server
      body: Subscribed
    message_received:
      origin: server
      body: events.MessageReceivedEvent
    message_sent:
      origin: server
      body: events.MessageSentEvent
    message_delivered:
      origin: server
      body: events.MessageDeliveredEvent
    message_bounced:
      origin: server
      body: events.MessageBouncedEvent
    message_complained:
      origin: server
      body: events.MessageComplainedEvent
    message_rejected:
      origin: server
      body: events.MessageRejectedEvent
    domain_verified:
      origin: server
      body: events.DomainVerifiedEvent
